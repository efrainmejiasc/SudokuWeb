{"version":3,"sources":["app.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Object","defineProperty","value","default","MLstrings","Spanish","English","portuguese","mlrLangInUse","mbPOCControlsLangDrop","_ref","arguments","undefined","_ref$dropID","dropID","_ref$stringAttribute","stringAttribute","_ref$chosenLang","chosenLang","_ref$mLstrings","mLstrings","_ref$countryCodes","countryCodes","_ref$countryCodeData","countryCodeData","root","document","documentElement","listOfLanguages","keys","getElementById","innerHTML","forEach","lang","langidx","HTMLoption","createElement","textContent","appendChild","addEventListener","selectedIndex","querySelectorAll","stringToBeResolved","matchingStringIndex","originaltextContent","resolvedText","find","stringObj","stringValues","values","includes","Array","isArray","console","warn","setAttribute","this2Digit","name","mlr","2","_interopRequireDefault","obj","__esModule","./languageSwitcher","./toggleMenu","3","toggleBtn","querySelector","menuList","languageList","_closeMenu","classList","remove","ev","preventDefault","toggle","target","nodeName"],"mappings":"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","file":"app.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar languageSwitcher = function languageSwitcher() {\n  var MLstrings = [{\n    Spanish: 'sudoku para todos',\n    English: 'sudoku for all',\n    portuguese: 'sudoku para todos'\n  }, {\n    Spanish: 'iniciar sesión',\n    English: 'login',\n    portuguese: 'iniciar sessão'\n  }, {\n    Spanish: 'cerrar sesión',\n    English: 'logout',\n    portuguese: 'fechar Sessão'\n  }, {\n    Spanish: 'regístrate',\n    English: 'register',\n    portuguese: 'registrar'\n  }];\n  var mlCodes = [{\n    code: 'es',\n    name: 'Spanish'\n  }, {\n    code: 'en',\n    name: 'English'\n  }, {\n    code: 'pt',\n    name: 'Portuguese'\n  }];\n\n  var mlrLangInUse = void 0;\n\n  var mlr = function mlr() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$dropID = _ref.dropID,\n        dropID = _ref$dropID === undefined ? 'languagepicker' : _ref$dropID,\n        _ref$stringAttribute = _ref.stringAttribute,\n        stringAttribute = _ref$stringAttribute === undefined ? 'data-text-text' : _ref$stringAttribute,\n        _ref$chosenLang = _ref.chosenLang,\n        chosenLang = _ref$chosenLang === undefined ? 'Spanish' : _ref$chosenLang,\n        _ref$mLstrings = _ref.mLstrings,\n        mLstrings = _ref$mLstrings === undefined ? MLstrings : _ref$mLstrings,\n        _ref$countryCodes = _ref.countryCodes,\n        countryCodes = _ref$countryCodes === undefined ? false : _ref$countryCodes,\n        _ref$countryCodeData = _ref.countryCodeData,\n        countryCodeData = _ref$countryCodeData === undefined ? [] : _ref$countryCodeData;\n\n    var root = document.documentElement;\n\n    var listOfLanguages = Object.keys(mLstrings[0]);\n    mlrLangInUse = chosenLang;\n\n    (function createMLDrop() {\n      var mbPOCControlsLangDrop = document.getElementById(dropID);\n      // Reset the menu\n      mbPOCControlsLangDrop.innerHTML = '';\n      // Now build the options\n      listOfLanguages.forEach(function (lang, langidx) {\n        var HTMLoption = document.createElement('option');\n        HTMLoption.value = lang;\n        HTMLoption.textContent = lang;\n        mbPOCControlsLangDrop.appendChild(HTMLoption);\n        if (lang === chosenLang) {\n          mbPOCControlsLangDrop.value = lang;\n        }\n      });\n      mbPOCControlsLangDrop.addEventListener('change', function (e) {\n        mlrLangInUse = mbPOCControlsLangDrop[mbPOCControlsLangDrop.selectedIndex].value;\n        resolveAllMLStrings();\n        // Here we update the 2-digit lang attribute if required\n        if (countryCodes === true) {\n          if (!Array.isArray(countryCodeData) || !countryCodeData.length) {\n            console.warn('Cannot access strings for language codes');\n            return;\n          }\n          root.setAttribute('lang', updateCountryCodeOnHTML().code);\n        }\n      });\n    })();\n\n    function updateCountryCodeOnHTML() {\n      return countryCodeData.find(function (this2Digit) {\n        return this2Digit.name === mlrLangInUse;\n      });\n    }\n\n    function resolveAllMLStrings() {\n      var stringsToBeResolved = document.querySelectorAll('[' + stringAttribute + ']');\n      stringsToBeResolved.forEach(function (stringToBeResolved) {\n        var originaltextContent = stringToBeResolved.textContent;\n        var resolvedText = resolveMLString(originaltextContent, mLstrings);\n        stringToBeResolved.textContent = resolvedText;\n      });\n    }\n  };\n\n  function resolveMLString(stringToBeResolved, mLstrings) {\n    var matchingStringIndex = mLstrings.find(function (stringObj) {\n      // Create an array of the objects values:\n      var stringValues = Object.values(stringObj);\n      // Now return if we can find that string anywhere in there\n      return stringValues.includes(stringToBeResolved);\n    });\n    if (matchingStringIndex) {\n      return matchingStringIndex[mlrLangInUse];\n    } else {\n      // If we don't have a match in our language strings, return the original\n      return stringToBeResolved;\n    }\n  }\n\n  mlr({\n    dropID: 'languagepicker',\n    stringAttribute: 'data-text',\n    chosenLang: 'Spanish',\n    mLstrings: MLstrings,\n    countryCodes: true,\n    countryCodeData: mlCodes\n  });\n};\n\nexports.default = languageSwitcher;\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar _toggleMenu = require('./toggleMenu');\n\nvar _toggleMenu2 = _interopRequireDefault(_toggleMenu);\n\nvar _languageSwitcher = require('./languageSwitcher');\n\nvar _languageSwitcher2 = _interopRequireDefault(_languageSwitcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// toggleMenu();\n(0, _languageSwitcher2.default)();\n\n},{\"./languageSwitcher\":1,\"./toggleMenu\":3}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar toggleMenu = function toggleMenu() {\n  var toggleBtn = document.querySelector('#hamburguer-btn');\n  var menuList = document.querySelector('#menu-list');\n  var languageList = document.querySelector('#language-list');\n  var menuListItem = menuList.querySelectorAll('.menu-list-item > .anchor');\n\n  var _toggleMenu = function _toggleMenu() {\n    toggleBtn.classList.toggle('-open');\n    menuList.classList.toggle('-open');\n    languageList.classList.toggle('-open');\n  };\n  var _closeMenu = function _closeMenu() {\n    toggleBtn.classList.remove('-open');\n    menuList.classList.remove('-open');\n    languageList.classList.remove('-open');\n  };\n\n  toggleBtn.addEventListener('click', function (ev) {\n    ev.preventDefault();\n    _toggleMenu();\n  });\n\n  menuList.addEventListener('click', function (ev) {\n    if (ev.target.nodeName === 'A') _closeMenu();\n  });\n  languageList.addEventListener('click', function (ev) {\n    if (ev.target.nodeName === 'A') _closeMenu();\n  });\n};\n\nexports.default = toggleMenu;\n\n},{}]},{},[2]);\n"]}